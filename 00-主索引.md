# GainLab脚本语言完整指南

## 🚀 快速开始
- **新手必读**: [重要规则汇总](01-重要规则汇总.md) ⭐⭐⭐
- **基础概念**: [基础概念和脚本结构](02-基础概念和脚本结构.md)  
- **5分钟上手**: [第一个脚本示例](#第一个脚本)

## 📚 方法体系速查

### 🔧 核心方法分类
| 方法类型 | 用途 | 使用频率 | 详细文档 |
|---------|------|----------|----------|
| **I方法** | 输入参数定义 | 🔥必用 | [I方法详解](03-输入参数方法(I方法).md) |
| **S方法** | 样式设置 | 🔥必用 | [S方法详解](04-样式设置方法(S方法).md) |
| **F方法** | 计算函数 | 🔥必用 | [F方法详解](05-计算函数方法(F方法).md) |
| **D方法** | 绘图显示 | 🔥必用 | [D方法详解](06-绘图输出方法(D方法).md) |
| **O方法** | 数据输出 | 📊常用 | [O方法详解](07-数据输出方法(O方法).md) |
| **U方法** | 工具函数 | 📝选用 | [U方法详解](08-工具函数方法(U方法).md) |

### 🎯 按需求场景导航
- **我要创建技术指标** → [F方法详解](05-计算函数方法(F方法).md) + [绘图显示](06-绘图输出方法(D方法).md)
- **我要设置参数输入** → [I方法详解](03-输入参数方法(I方法).md)
- **我要自定义样式** → [S方法详解](04-样式设置方法(S方法).md) 
- **我遇到错误问题** → [错误处理指南](10-错误处理和调试指南.md)
- **我要看完整案例** → [脚本案例库](09-完整脚本案例库.md)

## ⚠️ 重要提醒
> 🔥 **开始编程前必读**: [重要规则汇总](01-重要规则汇总.md)  
> 包含所有关键约束，违反将导致脚本错误！

## 🔍 快速搜索  
### 高频关键词
- `@name`, `@position` → [基础概念](02-基础概念和脚本结构.md#元数据)
- 数组操作限制 → [重要规则汇总](01-重要规则汇总.md#数组操作)
- 移动平均线 → [F方法-F.ma](05-计算函数方法(F方法).md#F.ma)
- 绘制线条 → [D方法-D.line](06-绘图输出方法(D方法).md#D.line)
- 样式设置 → [S方法详解](04-样式设置方法(S方法).md)

## 🌟 第一个脚本

基于JavaScript的简单移动平均线指标：

```javascript
//@name=MA
//@title=MovingAverage 移动平均线
//@desc=## MovingAverage 移动平均线
//作为衡量主力成本重要的参照指标，用以观察价格变动趋势和起到测试压力和支撑的作用。
//当作为趋势判断的时候，周期越长、越有效。
//另一方面，需要注意的是，当均线形成多头排列后，短期均线才是作为持仓的依据。
//@position=main
//@version=1

// 定义输入参数
period = I.int(5, title="周期", min=1) 
source = I.select('close', title="数据源", tip='用来计算的数据', options=SOURCE)

// 定义样式
maStyle = S.line('#F00',1, 'solid', title="MA样式") 

// 计算移动平均线
ma = F.ma(dataList, period, source)

// 绘制线条
D.line(ma,maStyle)

// 设置精度
setPrecision('price') 

// 输出工具栏提示
O.tools('MA'+period,ma,maStyle)
```

## 📖 系统概述

**GainLab Script** 是基于JavaScript的指标脚本语言，支持：
- 🔧 **变量、函数、表达式与回调**
- 📊 **64个官方计算函数**
- 🎨 **丰富的绘图和样式系统**
- ⚡ **实时数据处理**
- 🔗 **模块化架构**

### 脚本结构组成
1. **元数据** - 定义脚本基本信息（@name、@position等）
2. **参数定义** - I方法设置用户可调参数
3. **样式定义** - S方法设置图形样式
4. **计算逻辑** - F方法进行数据计算
5. **图形绘制** - D方法绘制图表元素
6. **数据输出** - O方法输出结果

## 🚀 进阶学习路径

### 第1阶段：基础入门
1. [基础概念和脚本结构](02-基础概念和脚本结构.md) - 了解基本概念
2. [重要规则汇总](01-重要规则汇总.md) - 避坑指南
3. [I方法详解](03-输入参数方法(I方法).md) - 参数设置

### 第2阶段：核心功能
1. [F方法详解](05-计算函数方法(F方法).md) - 掌握计算函数
2. [D方法详解](06-绘图输出方法(D方法).md) - 学会绘制图形
3. [S方法详解](04-样式设置方法(S方法).md) - 美化图表

### 第3阶段：实战应用
1. [脚本案例库](09-完整脚本案例库.md) - 学习实际案例
2. [错误处理指南](10-错误处理和调试指南.md) - 解决问题
3. [高级主题](11-高级主题和最佳实践.md) - 性能优化

## 📋 常用指标快速索引

### 趋势指标
- **MA (移动平均线)** → [案例库-案例1](09-完整脚本案例库.md) + [F方法](05-计算函数方法(F方法).md)
- **SuperTrend** → [案例库-案例5](09-完整脚本案例库.md) 
- **BBI (多空指数)** → [基础概念](02-基础概念和脚本结构.md) + [F方法](05-计算函数方法(F方法).md)

### 震荡指标  
- **MACD** → [案例库-案例4](09-完整脚本案例库.md) + [F方法](05-计算函数方法(F方法).md)
- **RSI** → [案例库-案例2](09-完整脚本案例库.md) + [F方法](05-计算函数方法(F方法).md)
- **BOLL (布林线)** → [F方法详解](05-计算函数方法(F方法).md)

### 成交量指标
- **VOL (成交量)** → [案例库-案例7](09-完整脚本案例库.md)
- **PVT (价量趋势)** → [F方法详解](05-计算函数方法(F方法).md)

### 特殊指标
- **FVG (公允价值缺口)** → 官方案例(需查阅源文档)
- **SAR (抛物转向)** → [F方法详解](05-计算函数方法(F方法).md)

## 🆘 常见问题快速解决

| 问题类型 | 解决方案 |
|---------|---------|
| 脚本不显示 | 检查 [@position] 和 [@name] 是否正确 |
| 参数设置失败 | I方法不能使用变量，只能用常量 |
| 线条不连续 | 检查数据是否有null值，考虑设置continuous |
| 样式不生效 | 确认S方法定义在D方法之前 |
| 计算结果错误 | 检查F方法参数顺序和数据类型 |

## 🔗 相关资源
- 🌐 **GainLab官方平台** - 指标运行环境
- 📖 **本文档系统** - 完整API参考  
- 🛠️ **调试工具** - 使用O.print()进行调试
- 💬 **社区支持** - 获取更多帮助

---
**更新时间**: 2024年最新版本  
**文档版本**: v1.0  
**适用引擎**: GainLab Script Engine v1